<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自动登录示例</title>
</head>
<body>
    <iframe id="loginFrame" src="http://jwxt.gdufe.edu.cn/jsxsd/" width="100%" height="600px"></iframe>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var iframe = document.getElementById('loginFrame');
            var iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

            iframe.onload = function () {
                // API 接口
                var loginUrl = 'http://jwxt.gdufe.edu.cn/jsxsd/jlsgl/jlsXxtxByAjax';

                // 请求头设置
                var headers = new Headers({
                    'Accept': 'application/json, text/javascript, */*; q=0.01',
                    'Accept-Encoding': 'gzip, deflate',
                    'Accept-Language': 'zh-CN,zh;q=0.9',
                    'Cache-Control': 'no-cache',
                    'Connection': 'keep-alive',
                    'Cookie': 'JSESSIONID=72FCE377CB8CC56B04F9323EABCE6702',  // 使用你的实际 Cookie
                    'DNT': '1',
                    'Host': 'jwxt.gdufe.edu.cn',
                    'Pragma': 'no-cache',
                    'Referer': 'http://jwxt.gdufe.edu.cn/jsxsd/framework/xsMain.jsp',
                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36 Edg/127.0.0.0',
                    'X-Requested-With': 'XMLHttpRequest'
                });

                // 登录请求数据
                var loginData = new URLSearchParams();
                loginData.append('username', '你的用户名');
                loginData.append('password', '你的密码');

                fetch(loginUrl, {
                    method: 'POST',
                    headers: headers,
                    body: loginData
                })
                .then(response => response.json())
                .then(data => {
                    // 处理登录成功后的数据
                    console.log('登录成功:', data);
                    
                    // 更新 iframe 内容（如果需要）
                    iframe.src = 'http://jwxt.gdufe.edu.cn/jsxsd/';
                })
                .catch(error => {
                    console.error('登录失败:', error);
                });
            };
        });
    </script>
</body>
</html>
